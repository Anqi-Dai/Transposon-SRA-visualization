---
title: "test_script"
author: "Anqi Dai"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_depth: 3
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F)
library(tidyverse)
library(pheatmap)
library(ggpubr)
library(cowplot)
library(gridExtra)
```

```{r}
# load the fake data
pos <- read_csv('../data/test_data_pos.csv') %>%
  column_to_rownames(var = 'bin') %>%
  as.matrix()
neg <- read_csv('../data/test_data_neg.csv') %>%
  column_to_rownames(var = 'bin') %>%
  as.matrix()
# get the max number of the two matrix that will be the max value for the two heatmaps
max_cnt <- max(max(pos), max(neg)) 

colGradient <- function( cols, length, cmax=255 )
{ ramp <- colorRamp(cols)
rgb( ramp(seq(0,1,length=length)), max=cmax )
}
yellow <- colGradient(c("#EBEBF3","#4C3C90"),length=15) 
blue <- colGradient(c("#DAE8F5","#0B559F"),length=15) 
# Create a heatmap of your genes using the entire training set.
positive <- t(pos)
negative <- t(neg)
sample_names <- rownames(positive)
annot <- data_frame(
  Sample =sample_names, 
  Group = c(rep('Disease', length(sample_names[grepl(pattern = '^D', sample_names)])),
           rep('Control', length(sample_names[grepl(pattern = '^C', sample_names)])) )
  ) %>%
  mutate(Group = factor(Group))%>%
  column_to_rownames('Sample')

```


